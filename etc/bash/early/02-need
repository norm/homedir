# ~/etc/bash/function/source_or_warn
# -*- Mode: Bash; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 2 -*-
#
# perform actions if a needed program is in the $PATH, 
# echoing a warning if it doesn't exist

function need {
    [ $interactive = 0 ]    && return
    
    have $1
    if [ 0 = $? ]; then
        print "${bold}${red}${1} is not installed${reset}"
    else
        # perform what was passed as stdin (BEWARE: this is not quite normal
        # bash syntax, so semi-colons are almost certainly required)
        eval `cat`
    fi
    
    return ${have}
}

function have {
    type $1 &> /dev/null \
        && return 1
    
    return 0
}
